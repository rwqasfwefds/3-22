<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
    <!-- this 는 객체 아니면 윈도우 두 개 밖에 없음 -->


    <!-- <button id="btn">4번 버튼</button> -->
    <script>
        // console.log('1번 그냥 씀')

        // // this 정리
        // // 1. 그냥 씀
        // let x = this;
        // console.log(x);

        // console.log('2번 함수 안에서 씀')

        // // 2. 함수안에서 쓴 this
        // function myFunction(){
        //     return this;
        // };
        // console.log(myFunction());

        // console.log('3번 객체의 메소드로 씀')

        // // 3. 객체의 메소드로 씀
        // let person = {
        //     firstName : 'John',
        //     lastName : 'Doe',
        //     fullName : function(){
        //         return this.firstName + ' ' + this.lastName;
        //     }
        // };
        // console.log(person.fullName());

        // console.log('4번 이벤트에서 씀')

        // // 4. 이벤트에서 씀
        //     let btn = document.querySelector('#btn');
        //     btn.addEventListener('click', function() {
        //         console.log('click');
        //         console.log(this);
        //     })

        // console.log('5번 객체 생성자에서 씀')

        // // 5.객체 생성자에서 씀
        // function Person(name){
        //     this.name = name
        // };

        // // 객체를 생성자 형태로 만드는 방법
        // let kim = new Person('kim');
        // let lee = new Person('lee');

        // console.log(kim.name);
        // console.log(lee.name);

        // console.log('6번 화살표 함수에서 씀')

        // 6. 화살표 함수에서 씀

        // 객체 정의
        // 함수 안의 함수 형태에서는 this가 window가 됨
        // 에러 : undifined
        // let Person = function(name, age){
        //     this.name = name;
        //     this.age = age;
        //     this.say = function(){
        //         console.log(this); // 객체 Person {name : 'Nan', age : 'Nan'}

        //         setTimeout(function(){
        //             console.log(this);
        //             console.log(this.name + ' is ' + this.age + ' years old');
        //         }, 1000)
        //     }
        // };
        // // 객체 생성자 함수 호출해서 생성
        // let me = new Person('Nana', 28);
        // // 객체의 함수를 호출
        // me.say();


        // 해결 책 -> 화살표 함수로 고침 -> this가 객체가 됨
        let Person = function(name, age){
            this.name = name;
            this.age = age;
            this.say = function(){
                console.log(this); // 객체 Person {name : 'Nan', age : 'Nan'}

                // 해결책 : 일반 함수 -> 화살표 함수로 고침
                // 이유 : 화살표함수 자체에는 this가 없음
                // 화살표 함수 자체에 없으니깐 안에 있는 this를 밖에 있는 this 취급을 해버림
                // 밖에 있는 this는 객체로서 쓰이니깐 걔를 갖다 쓰는거
                // 그래서 해결이 되는거임
                setTimeout(() => {
                    console.log(this);
                    console.log(this.name + ' is ' + this.age + ' years old');
                }, 1000)
            }
        };
        // 객체 생성자 함수 호출해서 생성
        let me = new Person('Nana', 28);
        // 객체의 함수를 호출
        me.say();
    </script>
    
</body>
</html>